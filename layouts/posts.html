<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <title>MEAN Project</title>
</head>
  <body ng-app='app'>
    <!-- <div class="container">
      <h1>Recent Posts</h1>
      <ul class='list-group'>
        <li class="list-group-item">
          <strong>@jeffdickeyxxx</strong>
          <span>Trying out angular.js...</span>
        </li>
      </ul>
    </div> -->

    <div ng-controller='PostsCtrl' class="container">
      <h1>Recent Posts</h1>
      <input ng-model='postBody' class="form-control" />
      <button ng-click='addPost()' class="btn btn-default">Add Post</button>
        <ul class='list-group'>
          <li ng-repeat='post in posts' class="list-group-item">
            <strong>@{{ post.username }}<strong>
            <span>{{ post.body }}</span>
          </li>
        </ul>
    </div>

    <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.2.18/angular.js'> </script>
    <script>
      var app = angular.module('app', [])
      app.controller('PostsCtrl', function ($scope, $http){
        $scope.addPost = function () {
          if ($scope.postBody) {
            $scope.posts.unshift({
              username: 'dickeyxxx',
              body: $scope.postBody
            })
          }
          $scope.postBody = null
        }
        $http.get('http://localhost:3000/api/posts')
        .success(function (posts) {
          $scope.posts = posts
        })
      })
    </script>
  </body>
</html>